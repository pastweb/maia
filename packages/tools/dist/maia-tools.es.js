var t=Symbol(),i=Symbol(),s=Symbol(),e=function(){function e(){this[t]={},this[i]={},this[s]=this[s].bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.removeListener=this.removeListener.bind(this)}return e.prototype.emit=function(i){for(var s=[],e=1;e<arguments.length;e++)s[e-1]=arguments[e];if(this[t][i]){var n=new Set;this[t][i].forEach((function(t){n.has(t)||(n.add(t),t.apply(void 0,s))}))}},e.prototype.on=function(e,n){var r=this;this[t][e]||(this[t][e]=new Map);var o=Symbol();return this[t][e].set(o,n),this[i][o]=e,{eventCallbackKey:o,removeListener:function(){return r[s](e,o)}}},e.prototype.removeListener=function(t){var e=this[i][t];e&&this[s](e,t)},e.prototype[s]=function(s,e){this[t][s].delete(e),delete this[i][e]},e}();function n(){}var r=Symbol(),o=Symbol(),h=function(){function t(t,i,s){void 0===t&&(t={}),void 0===s&&(s={});var h=s.optionsKey,l=s.domElementKey;this[o]=s,this[r]=new e,l?this[l]=i:this.domElement=i,h?this[h]=t:this.options=t,this.on=this[r].on,this.emit=this[r].emit,this.removeListener=this[r].removeListener,this.mount&&"function"==typeof this.mount?this.mount=this.mount.bind(this):this.mount=n,this.unmount&&"function"==typeof this.unmount?this.unmount=this.unmount.bind(this):this.unmount=n,this.update&&"function"==typeof this.update?this.update=this.update.bind(this):this.update=n}return t.prototype.setDomElement=function(t,i){i?this[i]=t:this[o].domElementKey?this[o].domElementKey=t:this.domElement=t},t.prototype.setOptions=function(t,i){i?this[i]=t:this[o].optionsKey?this[this[o].optionsKey]=t:this.options=t},t}();function l(t){return Object.prototype.toString.call(t).slice(8,-1)}var a={Number:function(t){return""+t},String:function(t){return""+t},Object:function(t){return i=t,Object.keys(i).reduce((function(t,s,e){return i[s]?""+t+c(e)+s:t}),"");var i},Array:function(t){return u(t)}};function c(t){return t>0?" ":""}function u(t){var i=null;return t.reduce((function(t,s,e){var n=l(s);return a[n]&&(i=a[n](s))?""+t+c(e)+i:t}),"")}function d(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return u(t)}function f(t,i){var s,e=this;return void 0===i&&(i=300),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];clearTimeout(s),s=setTimeout((function(){t.apply(e,n)}),i)}}var p="undefined"==typeof window;function b(t,i){return null!=i&&l(i)===t}function v(t){return b("Object",t)}function g(t){if(p)return!1;if(!v(t))return!1;var i=Object.keys(t).map((function(t){return parseFloat(t)})).sort((function(t,i){return t-i}));return t[i.find((function(t){return t>=window.innerWidth}))||i[i.length-1]]}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(){return m=Object.assign||function(t){for(var i,s=1,e=arguments.length;s<e;s++)for(var n in i=arguments[s])Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);return t},m.apply(this,arguments)},y={width:["width","borderLeftWidth","marginLeft","marginRight","borderRightWidth"],height:["height","borderTopWidth","marginTop","marginBottom","borderBottomWidth"]},S={width:0,height:0};function E(t){if(!t)return S;if(p)return S;var i=window.getComputedStyle(t),s=m({},S);return Object.entries(y).forEach((function(t){var e=t[0],n=t[1];s[e]=n.map((function(t){return parseFloat(i[t])||0})).reduce((function(t,i){return t+i}))})),s}function w(t,i,s){if(void 0===s&&(s=null),!v(t))return s;if(!Array.isArray(i)&&"string"!=typeof i)return s;var e=[];if(Array.isArray(i))e=i;else for(var n="",r="",o=i.length-1;o>=0;o--)"."!==(r=i.charAt(o))?(n=""+r+n,0===o&&e.push(n)):(e.push(n),n="");var h=e.pop();return"string"!=typeof h?s:!e.length&&t[h]?t[h]:t[h]&&v(t[h])?w(t[h],e,s):s}var x="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",z=x.length;function A(t,i){for(var s=i||8,e=t||"",n=0;n<s;n++)e=""+e+x.charAt(Math.floor(Math.random()*z));return e}var X={generate:A,generateUnique:function(t,i,s,e){for(var n=new Set(t)||new Set,r="",o=e||9999,h=0;h<o&&(r=A(i,s),n.has(r));h++)h===o&&console.error("tried "+h+" times to find a unique ID.");return r}};function Y(t){return b("Map",t)}var k=/iP(hone|ad|od)|blackberry|Android|(W|w)indows (P|p)hone/g;function M(t){var i=t.matches;return!(!k.test(window.navigator.userAgent)&&!i)}function W(t){void 0===t&&(t={});var i=t.isMobile,s=t.mediaQueryString,e=t.onMediaQueryChange;if(void 0!==i)return i;if(p)return!1;if(!s)return k.test(window.navigator.userAgent);var n=window.matchMedia(s);return e&&n.addEventListener("change",(function(t){var i=M(t);e&&e(m(m({},t),{isMobile:i}))})),M(n)}function L(t){return b("Set",t)}function O(t){return b("Symbol",t)}function C(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length?t.reduce((function(t,i){return v(i)&&Object.keys(i).forEach((function(s){var e=t[s],n=i[s];Array.isArray(e)&&Array.isArray(n)?t[s]=e.concat.apply(e,n):v(e)&&v(n)?t[s]=C(e,n):t[s]=n})),t}),{}):{}}function B(t,i){var s,e=this;return void 0===i&&(i=300),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];s||(t.apply(e,n),s=!0,setTimeout((function(){s=!1}),i))}}function D(t,i){t&&Object.entries(i).forEach((function(i){var s=i[0],e=i[1];"style"===s?Object.entries(e).forEach((function(i){var s=i[0],e=i[1];t.style[s]=""+e})):t[s]=""+e}))}var I={},T={open:function(t){return function(t,i){var s=i.portalId,e=i.tagName,n=void 0===e?"div":e,r=i.tagAttrs,o=i.app,h=void 0===o?{}:o,l=document.getElementById(s);if(!l)return!1;var a=document.createElement(n);r&&D(a,r),t[s]||(t[s]={});var c=X.generateUnique(Object.keys(t[s]));a.id=c,l.appendChild(a);var u=h.AppClass,d=void 0===u?function(){function t(){}return t.prototype.mount=function(){},t}():u,f=h.options,p=void 0===f?{}:f,b=h.privateKeys,v=void 0===b?{}:b,g=new d(m({portalId:s,appId:c},p),a,v);return t[s][c]=g,g.mount(),c}(I,t)},update:function(t){return function(t,i){var s=i.portalId,e=i.appId,n=i.tagAttrs,r=i.appData;return!(!t[s]||"*"!==e&&!t[s][e]||(n&&D(document.getElementById(e),n),r&&("*"===e?Object.values(t[s]).forEach((function(t){return t.update(r)})):t[s][e].update(r)),0))}(I,t)},close:function(t){return function(t,i){var s=i.portalId,e=i.appId;return!(!t[s]||"*"!==e&&!t[s][e])&&("*"===e&&Object.keys(t[s]).forEach((function(i){return t[s][i].emit("mustUnmount")})),function(i){var s=i.portalId,e=i.appId;t[s][e].unmount(),delete t[s][e];var n=document.getElementById(e);return n&&n.remove(),!0}({portalId:s,appId:e}))}(I,t)}};function j(t){var i=t.portalId,s=t.tagName,e=t.tagAttrs,n=t.app,r=void 0===n?{}:n;return r.options=r.options||{},{open:function(t,n){return T.open({portalId:i,tagName:s,tagAttrs:e,app:m(m({},r),{options:m(m({},r.options),{portal:T,component:t,initData:n})})})},update:function(t,s,e){return T.update({portalId:i,appId:t,appData:s,tagAttrs:e})},close:function(t){return T.close({portalId:i,appId:t})}}}const R={autoHide:!0,show:"both",forceVisible:!1,scrollbarMinSize:25,scrollbarMaxSize:0,direction:"ltr",timeout:1e3,visibleClass:"visible"};class V{constructor(t,i){this.setOptions=this.setOptions.bind(this),this.init=this.init.bind(this),this.initListeners=this.initListeners.bind(this),this.recalculate=this.recalculate.bind(this),this.render=this.render.bind(this),this.resizeScrollbar=this.resizeScrollbar.bind(this),this.positionScrollbar=this.positionScrollbar.bind(this),this.toggleTrackVisibility=this.toggleTrackVisibility.bind(this),this.hideNativeScrollbar=this.hideNativeScrollbar.bind(this),this.onScrollX=this.onScrollX.bind(this),this.onScrollY=this.onScrollY.bind(this),this.scrollX=this.scrollX.bind(this),this.scrollY=this.scrollY.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.showScrollbar=this.showScrollbar.bind(this),this.hideScrollbars=this.hideScrollbars.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onDrag=this.onDrag.bind(this),this.drag=this.drag.bind(this),this.onEndDrag=this.onEndDrag.bind(this),this.isWithinBounds=this.isWithinBounds.bind(this);const{scrollbars:s,scrollContent:e,content:n,trackY:r,scrollbarY:o,trackX:h,scrollbarX:l}=t;this.el=s,this.contentEl=n,this.scrollContentEl=e,this.trackX=h,this.scrollbarX=l,this.trackY=r,this.scrollbarY=o,this.flashTimeout=null,this.dragOffset={x:0,y:0},this.isEnabled={x:!0,y:!0},this.isVisible={x:!1,y:!1},this.scrollOffsetAttr={x:"scrollLeft",y:"scrollTop"},this.sizeAttr={x:"offsetWidth",y:"offsetHeight"},this.scrollSizeAttr={x:"scrollWidth",y:"scrollHeight"},this.offsetAttr={x:"left",y:"top"},this.handleSize={x:0,y:0},this.currentAxis=null,this.scrollbarWidth=null,this.options={...R,options:i},this.isRtl="rtl"===this.options.direction,this.offsetSize=20,this.contentElWidth=null,this.contentElHeight=null,this.init()}setOptions(t){this.options=Object.assign(this.options,t),this.recalculate()}init(){window&&(this.hideNativeScrollbar(),this.render(),this.recalculate(),this.initListeners())}initListeners(){this.options.autoHide&&this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mousedown",this.onMouseDown),this.el.addEventListener("mousemove",this.onMouseMove),this.contentEl.addEventListener("scroll",this.onScrollX),this.scrollContentEl.addEventListener("scroll",this.onScrollY)}recalculate(){this.render()}render(){this.contentSizeX=this.contentEl[this.scrollSizeAttr.x],this.contentSizeY=this.contentEl[this.scrollSizeAttr.y]-(this.scrollbarWidth||this.offsetSize),this.trackXSize=this.trackX[this.sizeAttr.x],this.trackYSize=this.trackY[this.sizeAttr.y],this.isEnabled.x=this.trackXSize<this.contentSizeX,this.isEnabled.y=this.trackYSize<this.contentSizeY,this.resizeScrollbar("x"),this.resizeScrollbar("y"),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}resizeScrollbar(t="y"){let i,s,e;if(!this.isEnabled[t]&&!this.options.forceVisible)return;"x"===t?(i=this.scrollbarX,s=this.contentSizeX,e=this.trackXSize):(i=this.scrollbarY,s=this.contentSizeY,e=this.trackYSize);const n=e/s;this.handleSize[t]=Math.max(n*e,this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(this.handleSize[t]=Math.min(this.handleSize[t],this.options.scrollbarMaxSize)),"x"===t?i.style.width=`${this.handleSize[t]}px`:i.style.height=`${this.handleSize[t]}px`}positionScrollbar(t="y"){let i,s,e,n;"x"===t?(i=this.scrollbarX,s=this.contentEl[this.scrollOffsetAttr[t]],e=this.contentSizeX,n=this.trackXSize):(i=this.scrollbarY,s=this.scrollContentEl[this.scrollOffsetAttr[t]],e=this.contentSizeY,n=this.trackYSize);const r=s/(e-n),o=(n-this.handleSize[t])*r;(this.isEnabled[t]||this.options.forceVisible)&&(i.style.transform="x"===t?`translate3d(${o}px, 0, 0)`:`translate3d(0, ${o}px, 0)`)}toggleTrackVisibility(t="y"){const i="y"===t?this.trackY:this.trackX,s="y"===t?this.scrollbarY:this.scrollbarX;this.isEnabled[t]||this.options.forceVisible?i.style.visibility="visible":i.style.visibility="hidden",this.options.forceVisible&&(this.isEnabled[t]?s.style.visibility="visible":s.style.visibility="hidden")}hideNativeScrollbar(){this.scrollbarWidth=function(){if(!document)return 0;const t=document.body,i=document.createElement("div"),s=i.style;s.position="absolute",s.top=s.left="-9999px",s.width=s.height="100px",s.overflow="scroll",t.appendChild(i);const e=i.offsetWidth-i.clientWidth;return t.removeChild(i),e}(),this.scrollContentEl.style[this.isRtl?"paddingLeft":"paddingRight"]=`${this.scrollbarWidth||this.offsetSize}px`,this.scrollContentEl.style.marginBottom=`-${2*this.scrollbarWidth||this.offsetSize}px`,0!==this.scrollbarWidth&&(this.contentEl.style[this.isRtl?"marginLeft":"marginRight"]=`-${this.scrollbarWidth}px`)}onScrollX(){this.scrollXTicking||(window.requestAnimationFrame(this.scrollX),this.scrollXTicking=!0)}onScrollY(){this.scrollYTicking||(window.requestAnimationFrame(this.scrollY),this.scrollYTicking=!0)}scrollX(){this.showScrollbar("x"),this.positionScrollbar("x"),this.scrollXTicking=!1}scrollY(){this.showScrollbar("y"),this.positionScrollbar("y"),this.scrollYTicking=!1}onMouseEnter(){this.showScrollbar("x"),this.showScrollbar("y")}onMouseMove(t){this.contentEl.clientWidth===this.contentElWidth&&this.contentEl.clientHeight===this.contentElHeight||this.recalculate();const i=this.trackY.getBoundingClientRect(),s=this.trackX.getBoundingClientRect();this.mouseX=t.clientX,this.mouseY=t.clientY,this.isWithinBounds(i)&&this.showScrollbar("y"),this.isWithinBounds(s)&&this.showScrollbar("x")}showScrollbar(t="y"){let i;const{show:s}=this.options;this.isVisible[t]||(s&&"none"!==s&&("x"!==t||"both"!==s&&"x"!==s?"y"!==t||"both"!==s&&"y"!==s||(i=this.scrollbarY):i=this.scrollbarX),this.isEnabled[t]&&i&&(i.classList.add(this.options.visibleClass),this.isVisible[t]=!0),this.options.autoHide&&(window.clearInterval(this.flashTimeout),this.flashTimeout=window.setInterval(this.hideScrollbars,this.options.timeout)))}hideScrollbars(){const t=this.trackY.getBoundingClientRect(),i=this.trackX.getBoundingClientRect();this.isWithinBounds(t)||(this.scrollbarY.classList.remove(this.options.visibleClass),this.isVisible.y=!1),this.isWithinBounds(i)||(this.scrollbarX.classList.remove(this.options.visibleClass),this.isVisible.x=!1)}onMouseDown(t){const i=this.scrollbarY.getBoundingClientRect(),s=this.scrollbarX.getBoundingClientRect();this.isWithinBounds(i)&&(t.preventDefault(),this.onDrag(t,"y")),this.isWithinBounds(s)&&(t.preventDefault(),this.onDrag(t,"x"))}onDrag(t,i="y"){t.preventDefault();const s="y"===i?this.scrollbarY:this.scrollbarX,e="y"===i?t.pageY:t.pageX;this.dragOffset[i]=e-s.getBoundingClientRect()[this.offsetAttr[i]],this.currentAxis=i,this.el.addEventListener("mousemove",this.drag),this.el.addEventListener("mouseup",this.onEndDrag)}drag(t){let i,s,e;t.preventDefault(),"y"===this.currentAxis?(i=t.pageY,s=this.trackY,e=this.scrollContentEl):(i=t.pageX,s=this.trackX,e=this.contentEl);const n=(i-s.getBoundingClientRect()[this.offsetAttr[this.currentAxis]]-this.dragOffset[this.currentAxis])/s[this.sizeAttr[this.currentAxis]]*this.contentEl[this.scrollSizeAttr[this.currentAxis]];e[this.scrollOffsetAttr[this.currentAxis]]=n}onEndDrag(){this.el.removeEventListener("mousemove",this.drag),this.el.removeEventListener("mouseup",this.onEndDrag)}isWithinBounds(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height}}export{h as App,e as EventEmitter,V as ScrollbarsHandler,d as classNames,j as createPortal,f as debounce,g as getFromBreakPoints,E as getFullElementSize,w as getObjectValue,l as getType,X as hashID,Y as isMap,W as isMobile,v as isObject,p as isSSR,L as isSet,O as isSymbol,b as isType,C as mergeObjects,n as noop,T as portal,B as throttle};
//# sourceMappingURL=maia-tools.es.js.map
